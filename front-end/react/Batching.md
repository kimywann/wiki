# 배칭(Batching) 개념 정리

### **1. 상태 업데이트는 즉시 반영되지 않는다**

- setState 같은 상태 변경 함수는 호출 즉시 상태를 바꾸지 않아요.
- React가 상태 변경 요청을 모아뒀다가 나중에 한꺼번에 처리해요.

---

### **2. 배칭(Batching)이란?**

- 여러 개의 상태 변경을 **모아서 한 번에 처리하는 것**을 말해요.
- 이렇게 하면 상태 변경마다 렌더링하지 않고, 불필요한 렌더링 횟수를 줄일 수 있어요.

```javascript
const onLogin = () => {
  setCount((prev) => prev + 1);
  setErrors({ idError: "아이디를 입력해주세요." });
  setErrors({});
  console.log(count); // 아직 이전 값 출력
};
```

- 이 함수 내에서 상태 변경 함수가 여러 번 호출돼도
- React는 **함수가 끝난 후에 한 번에 렌더링**을 수행해요.
- 따라서 console.log(count)는 아직 변경 전 값이 출력돼요.

---

### **4. 배칭의 장점**

- 렌더링 횟수를 줄여 **성능 최적화**에 도움을 줘요.
- 화면 깜빡임이나 불필요한 재렌더링을 방지해 사용자 경험을 개선해요.

### **5. 요약**

| **상태 업데이트 시점**   | **설명**                                   |
| ------------------------ | ------------------------------------------ |
| 상태 변경 함수 호출 직후 | React가 상태 변경 요청을 모아서 저장       |
| 함수 실행 완료 후        | 모아둔 상태 변경을 한 번에 적용하고 렌더링 |
